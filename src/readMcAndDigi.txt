//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
// Job options file for Gleam job to read default digi root file
//$Header: /nfs/slac/g/glast/ground/cvs/Gleam/src/readMcAndDigi.txt,v 1.1 2007/05/09 01:38:45 heather Exp $

// start with the basic program defined in Gleam
#include "$GLEAMJOBOPTIONSPATH/basicOptions.txt"


// --------------------------------------
//      set up RootIo to control event loop

ApplicationMgr.ExtSvc +={"RootIoSvc"};  
ApplicationMgr.Runable=  "RootIoSvc";

// ----------------------------------------------
//         Algorithm sequence 


Top.Members={
    "mcRootReaderAlg",              // read mc, set time
    "PointInfoAlg",                 // set pointing info from orbit, current time
    "digiRootReaderAlg",            // read digi
    "TriggerAlg",                   // set trigger bits -- must be before EbfWriter
    "Sequencer/CalibrationUpdate",  // defined in basicOptions
    "Sequencer/Onboard",            // onboard processing, defined below
    "Sequencer/Reconstruction"      // defined in basicOptions
    };
Onboard.Members={
    "EbfWriter",            // sets up Ebf for OBF
    "OnboardFilter",
   // "FilterTracks",     // ? not needed?
    "FilterAlg"            // set filter status for tuple
    };

mcRootReaderAlg.OutputLevel = 4;   // since it generates a line per event at INFO

// -------------------------------------------------
//          input files

mcRootReaderAlg.mcRootFile       ="$(mcInRootFileName)";
digiRootReaderAlg.digiRootFile   ="$(digiRootFileName)";
//mcRootReaderAlg.mcRootFile       ="mc.root";
//digiRootReaderAlg.digiRootFile   ="digi.root";

// ------------------------------------------------
//          output
RootTupleSvc.filename=           "$(meritRootFileName)";
//RootTupleSvc.filename=           "remerit.root";


ApplicationMgr.EvtMax = 10000;

//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

// JobOptions file to read back an already created digi file, and
// run Gleam on it.
// It uses readdigi.txt to setup the basic job parameters but adds the following:
// 1) allows for recon output, and user defined names
// 2) calls the EM geometry to actually read REAL data
//
// User should change the path of digiRootReaderAlg.digiRootFile to the correct
// digi file to be read, and can modify suitably the paths to the output files in
// meritAlg.RootFilename and reconRootWriterAlg.reconRootFile
//
// Run this file with Gleam.exe, the same way you would run jobOptions.txt with Gleam
//
// Refer to convertFits.txt in order to create the digi file in the first place 
//
// all credits go to Xin Chen, Heather and Joanne.
// Johann Cohen-Tanugi, johann.cohen@pi.infn.it
// Xin Chen, xchen@slac.stanford.edu

//The generic Gleam setup, in case of digi readback:
#include "$GLEAMROOT/src/readdigi.txt"

// gui parameters from generic guiOptions, but FluxDisplay needs removal: 
#include "$GLEAMROOT/src/guiOptions.txt" 
EventDisplay.Members = {
   "CalDisplay",
   "AcdDisplay"  
   };

//Change the geometry description for EM data
GlastDetSvc.xmlfile="$(XMLGEODBSROOT)/xml/em/emSegVols.xml"; 


// reco will be saved in root file
Output.Members = {"reconRootWriterAlg"}; 

// PUT YOUR DIGI FILE PATH HERE*******************************
digiRootReaderAlg.digiRootFile="/home/cohen/Xin/ebf030507023417_digi.root"; 

//change the names as desired
meritAlg.RootFilename            = "/home/cohen/Xin/ebf030507023417_merit.root"; 
reconRootWriterAlg.reconRootFile = "/home/cohen/Xin/ebf030507023417_recon.root";
 

ApplicationMgr.EvtMax = 10000000; 

//required for the mini tower. It is used to simulate a special bottom tray, 
//which is made of Al and does not have any Si layer.
ApplicationMgr.ExtSvc += {"TkrFailureModeSvc"}; 
TkrFailureModeSvc.layerList = {"0_0_0", "0_0_1"}; 
